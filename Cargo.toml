[package]
edition = "2021"
name = "emtk"
version = "0.1.0"

[workspace]
members = ["emf", "repacker", "detours", "examples/*"]

[workspace.dependencies]
bitstream-io = "1.7.0"
detours-sys = { path = "./detours" }
dynasmrt = "2.0.0"
log = "0.4.21"
pretty_env_logger = "0.5.0"
safer-ffi = { version = "0.1.8", default-features = false, features = [
  "alloc",
  "log",
] }
serde = { version = "1.0.190", features = ["derive"] }
toml = "0.8.6"
winapi = { version = "0.3.9", features = [
	"minwindef",
	"winnt",
	"winbase",
	"handleapi",
	"libloaderapi",
	"psapi",
	"errhandlingapi",
	"consoleapi",
	"memoryapi",
	"processthreadsapi",
	"processenv",
] }

[dependencies]
detours-sys = { workspace = true }
winapi = { workspace = true }
# EMF is needed as a dependency so that emf.dll gets compiled before running EMTK.
emf = { path = "./emf" }

[build-dependencies]
cbindgen = "0.26.0"


[package.metadata.cargo-machete]
ignored = ["emf"]
